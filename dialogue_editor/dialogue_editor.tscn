[gd_scene load_steps=26 format=2]

[ext_resource path="res://addons/dialogue_system/dialogue_editor/dialogue_editor.gd" type="Script" id=1]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/graph_renderer/dialogue_graph_renderer.tscn" type="PackedScene" id=2]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/menu_buttons/dialogue/dialogue_menu_button.tscn" type="PackedScene" id=3]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/menu_buttons/node/node_menu_button.tscn" type="PackedScene" id=4]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/blackboard_editor/blackboard_editor.tscn" type="PackedScene" id=5]
[ext_resource path="res://addons/dialogue_system/dialogue/implemented_nodes/root_dialogue_node.gd" type="Script" id=6]
[ext_resource path="res://addons/dialogue_system/dialogue/dialogue.gd" type="Script" id=7]
[ext_resource path="res://addons/dialogue_system/support/storage.gd" type="Script" id=8]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/action_condition_widget/action_condition_widget.tscn" type="PackedScene" id=9]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/storage_widgets/storage_editor_dialog/storage_editor_dialog.tscn" type="PackedScene" id=10]
[ext_resource path="res://addons/dialogue_system/dialogue/logic/dialogue_node_logic.gd" type="Script" id=11]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/working_resource_manager/working_resource_manager.gd" type="Script" id=12]
[ext_resource path="res://addons/dialogue_system/support/blackboard.gd" type="Script" id=13]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/storage_widgets/storage_editor/item_editor/file_dialog/storage_item_file_dialog_editor.tscn" type="PackedScene" id=14]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/storage_widgets/storage_editor/item_editor/storage_picker/storage_item_storage_picker_editor.tscn" type="PackedScene" id=15]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/menu_buttons/actors/actors_menu_button.tscn" type="PackedScene" id=16]
[ext_resource path="res://addons/dialogue_system/dialogue_editor/menu_buttons/tags/tags_menu_button.tscn" type="PackedScene" id=17]

[sub_resource type="Resource" id=1]
script = ExtResource( 8 )
max_id = 0
must_be_unique = true
_data = {
}
_locked_indices = {
}

[sub_resource type="Resource" id=2]
script = ExtResource( 8 )
max_id = 0
must_be_unique = true
_data = {
}
_locked_indices = {
}

[sub_resource type="Resource" id=3]
script = ExtResource( 13 )
field_names = SubResource( 2 )

[sub_resource type="Resource" id=4]
script = ExtResource( 8 )
max_id = 1
must_be_unique = true
_data = {
0: SubResource( 3 )
}
_locked_indices = {
0: true
}

[sub_resource type="Resource" id=5]
script = ExtResource( 11 )
flags = [  ]
node_script = ""
use_flags = true
use_script = false

[sub_resource type="Resource" id=6]
script = ExtResource( 11 )
flags = [  ]
node_script = ""
use_flags = true
use_script = false

[sub_resource type="Resource" id=7]
script = ExtResource( 6 )
children = [  ]
id = 0
parent_id = -1
condition_logic = SubResource( 6 )
action_logic = SubResource( 5 )
comment = ""

[sub_resource type="Resource" id=8]
script = ExtResource( 7 )
root_node = SubResource( 7 )
actors = SubResource( 1 )
blackboards = SubResource( 4 )
local_blackboard = SubResource( 3 )
max_id = 1
editor_version = "0.0.0"

[node name="DialogueEditor" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource( 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="MenuButtonsContainer" type="HBoxContainer" parent="VBoxContainer"]
margin_right = 1024.0
margin_bottom = 20.0
size_flags_horizontal = 3

[node name="DialogueMenuButton" parent="VBoxContainer/MenuButtonsContainer" instance=ExtResource( 3 )]
items = [ "New Dialogue", null, 0, false, false, 0, 0, null, "", false, "Open Dialogue...", null, 0, false, false, 1, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Save Dialogue", null, 0, false, false, 2, 0, null, "", false, "Save Dialogue As...", null, 0, false, false, 3, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Undo", null, 0, false, false, 4, 0, null, "", false, "Redo", null, 0, false, false, 5, 0, null, "", false ]

[node name="NodeMenuButton" parent="VBoxContainer/MenuButtonsContainer" instance=ExtResource( 4 )]
margin_left = 72.0
margin_right = 118.0
items = [ "Insert Child Hear Node", null, 0, false, false, 0, 0, null, "", false, "Insert Child Say Node", null, 0, false, false, 1, 0, null, "", false, "Insert Parent Hear Node", null, 0, false, false, 2, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Move Selected Nodes Up", null, 0, false, false, 3, 0, null, "", false, "Move Selected Nodes Down", null, 0, false, false, 4, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Copy Selected Nodes", null, 0, false, false, 5, 0, null, "", false, "Paste Nodes", null, 0, false, false, 6, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Shallow Dublicate Selected Nodes", null, 0, false, false, 7, 0, null, "", false, "Deep Dublicate Selected Nodes", null, 0, false, false, 8, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Shallow Delete Selected Nodes", null, 0, false, false, 9, 0, null, "", false, "Deep Delete Selected Nodes", null, 0, false, false, 10, 0, null, "", false ]

[node name="EditorMenuButton" parent="VBoxContainer/MenuButtonsContainer" instance=ExtResource( 16 )]
margin_left = 122.0
margin_right = 175.0
items = [ "Edit Dialogue Actors", null, 0, false, false, 0, 0, null, "", false, "", null, 0, false, false, -1, 0, null, "", true, "Edit Global Actors", null, 0, false, false, 1, 0, null, "", false ]

[node name="TagsMenuButton" parent="VBoxContainer/MenuButtonsContainer" instance=ExtResource( 17 )]
margin_left = 179.0
margin_right = 219.0
items = [ "Edit Global Tags", null, 0, false, false, 0, 0, null, "", false ]

[node name="TabContainer" type="TabContainer" parent="VBoxContainer"]
margin_top = 24.0
margin_right = 1024.0
margin_bottom = 600.0
size_flags_horizontal = 3
size_flags_vertical = 3
tab_align = 0

[node name="HSplitContainer" type="HSplitContainer" parent="VBoxContainer/TabContainer"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 32.0
margin_right = -4.0
margin_bottom = -4.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_tab_name": "[unsaved]"
}

[node name="DialogueGraphRenderer" parent="VBoxContainer/TabContainer/HSplitContainer" instance=ExtResource( 2 )]
margin_right = 804.0
margin_bottom = 540.0
size_flags_horizontal = 3
size_flags_vertical = 3
scroll_offset = Vector2( -455, -66 )
dialogue = SubResource( 8 )

[node name="ActionConditionWidget" parent="VBoxContainer/TabContainer/HSplitContainer" instance=ExtResource( 9 )]
anchor_right = 0.0
anchor_bottom = 0.0
margin_left = 816.0
margin_right = 1016.0
margin_bottom = 540.0
size_flags_horizontal = 1

[node name="ActorsEditor" parent="." instance=ExtResource( 10 )]
margin_left = 400.0
margin_top = 87.0
margin_right = 623.0
margin_bottom = 512.0
window_title = "Edit Dialogue Actors"
storage_name = "dialogue actors"

[node name="StorageEditor" parent="ActorsEditor" index="3"]
item_editor_scene = ExtResource( 15 )

[node name="TagsEditor" parent="." instance=ExtResource( 10 )]
margin_left = 400.0
margin_top = 87.0
margin_right = 623.0
margin_bottom = 512.0
window_title = "Edit Text Node Tags"
storage_name = "text node tags "

[node name="StorageEditor" parent="TagsEditor" index="3"]
item_editor_scene = ExtResource( 15 )

[node name="DialogueBlackboardsEditor" parent="." instance=ExtResource( 10 )]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -111.5
margin_top = -212.5
margin_right = 111.5
margin_bottom = 212.5
window_title = "Edit Dialogue Blackboards"
storage_name = "dialogue blackboards"

[node name="StorageEditor" parent="DialogueBlackboardsEditor" index="3"]
item_editor_scene = ExtResource( 14 )

[node name="BlackboardEditor" parent="." instance=ExtResource( 5 )]

[node name="GlobalActorsEditor" parent="." instance=ExtResource( 10 )]
window_title = "Edit Global Actors"
storage_name = "Global actors"

[node name="GlobalTagsEditor" parent="." instance=ExtResource( 10 )]
window_title = "Edit Global Tags"
storage_name = "Global tags"

[node name="WorkingDialogueManager" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
script = ExtResource( 12 )
resource_class_name = "Dialogue"
resource = SubResource( 8 )

[connection signal="new_dialogue" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="new_dialogue"]
[connection signal="open_dialogue" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="open_dialogue"]
[connection signal="redo" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="redo"]
[connection signal="save_dialogue" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="save_dialogue"]
[connection signal="save_dialogue_as" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="save_dialogue_as"]
[connection signal="undo" from="VBoxContainer/MenuButtonsContainer/DialogueMenuButton" to="." method="undo"]
[connection signal="copy_selected_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="copy_selected_nodes"]
[connection signal="deep_delete_selected_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="deep_delete_selected_nodes"]
[connection signal="deep_dublicate_selected_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="deep_dublicate_selected_nodes"]
[connection signal="insert_child_hear_node" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="insert_child_hear_node"]
[connection signal="insert_child_say_node" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="insert_child_say_node"]
[connection signal="insert_parent_hear_node" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="insert_parent_hear_node"]
[connection signal="insert_parent_say_node" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="insert_parent_say_node"]
[connection signal="move_selected_nodes_down" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="move_selected_nodes_down"]
[connection signal="move_selected_nodes_up" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="move_selected_nodes_up"]
[connection signal="paste_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="paste_nodes"]
[connection signal="shallow_delete_selected_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="shallow_delete_selected_nodes"]
[connection signal="shallow_dublicate_selected_nodes" from="VBoxContainer/MenuButtonsContainer/NodeMenuButton" to="." method="shallow_dublicate_selected_nodes"]
[connection signal="open_dialogue_actors_editor" from="VBoxContainer/MenuButtonsContainer/EditorMenuButton" to="." method="open_actors_editor"]
[connection signal="open_global_actors_editor" from="VBoxContainer/MenuButtonsContainer/EditorMenuButton" to="." method="open_global_actors_editor"]
[connection signal="open_global_tags_editor" from="VBoxContainer/MenuButtonsContainer/TagsMenuButton" to="." method="open_global_tags_editor"]
[connection signal="collapsed_nodes_changed" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_collapsed_nodes_changed"]
[connection signal="copy_nodes_request" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_graph_renderer_copy_nodes_request"]
[connection signal="delete_nodes_request" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_graph_renderer_delete_nodes_request"]
[connection signal="duplicate_nodes_request" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_graph_renderer_duplicate_nodes_request"]
[connection signal="node_selected" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_node_selected"]
[connection signal="node_unselected" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_node_unselected"]
[connection signal="paste_nodes_request" from="VBoxContainer/TabContainer/HSplitContainer/DialogueGraphRenderer" to="." method="_on_graph_renderer_paste_nodes_request"]
[connection signal="confirmed" from="ActorsEditor" to="." method="_on_actors_editor_confirmed"]
[connection signal="confirmed" from="TagsEditor" to="." method="_on_tags_editor_confirmed"]
[connection signal="confirmed" from="DialogueBlackboardsEditor" to="." method="_on_dialogue_blackboards_editor_confirmed"]
[connection signal="confirmed" from="GlobalActorsEditor" to="." method="_on_global_actors_editor_confirmed"]
[connection signal="confirmed" from="GlobalTagsEditor" to="." method="_on_global_actors_tags_confirmed"]
[connection signal="file_changed" from="WorkingDialogueManager" to="." method="_on_working_dialogue_manager_file_changed"]
[connection signal="has_unsaved_changes_changed" from="WorkingDialogueManager" to="." method="_on_working_dialogue_manager_has_unsaved_changes_changed"]
[connection signal="save_path_changed" from="WorkingDialogueManager" to="." method="_on_working_dialogue_manager_save_path_changed"]

[editable path="ActorsEditor"]
[editable path="TagsEditor"]
[editable path="DialogueBlackboardsEditor"]
